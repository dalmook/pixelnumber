<!DOCTYPE html>
<html lang="ko">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="대학전쟁에 나온 픽셀조합으로 숫자를 맞추는 게임">
    <meta charset="UTF-8">
    <title>픽셀 넘버 게임</title>
    <link rel="stylesheet" href="style.css">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
</head>
<body>
    <!-- 시작 화면 -->
    <div id="start-screen" class="screen">
        <div class="game-container">
            <h1>픽셀 넘버 게임</h1>
            <button id="start-button" class="start-button">시작하기</button>
        </div>
    </div>

    <!-- 게임 화면 -->
    <div id="game-screen" class="screen" style="display: none;">
        <div class="game-container">
            <div class="top-info">
                <div id="problem-counter" class="problem-counter">
                    문제 1 / 3
                </div>
                <div id="message" class="message"></div>
                <div id="timer" class="timer">
                    시간: 0초
                </div>
            </div>
            <div class="main-content">
                <div id="target-number" class="target-number">
                    <!-- 목표 숫자가 도트 그리드로 표시됩니다 -->
                </div>
                <div id="grid" class="grid">
                    <!-- 메인 그리드가 여기에 표시됩니다 -->
                </div>
            </div>
            <div id="options" class="options">
                <!-- 옵션들이 여기에 표시됩니다 -->
            </div>
            <div class="controls">
                <button id="submit" class="submit-button">제출</button>
                <button id="initial-button" class="initial-button">처음으로</button>
                <button id="next" class="next-button" style="display: none;">다음 문제</button>
            </div>            
        </div>
    </div>

    <!-- 완료 화면 -->
    <div id="completion-screen" class="screen" style="display: none;">
        <div class="game-container">
            <h1>축하합니다!</h1>
            <div id="results" class="results">
                <!-- 결과가 여기에 표시됩니다 -->
                <!-- 기존 그리드 제거 -->
                <table id="leaderboard" border="1">
                    <thead>
                        <tr>
                            <th>순위</th>
                            <th>이름</th>
                            <th>걸린 시간 (초)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Firebase에서 불러온 데이터가 여기에 삽입됩니다 -->
                    </tbody>
                </table>
            </div>
            <div id="total-time" class="total-time">
                걸린 시간: 0초
            </div>
            <button id="restart-button" class="restart-button">처음으로</button>
        </div>
    </div>

    <!-- 이름 입력 팝업 -->
    <div id="name-popup" class="popup" style="display: none;">
        <div class="popup-content">
            <span class="close-button">&times;</span>
            <h2>이름을 입력하세요</h2>
            <input type="text" id="player-name" placeholder="이름을 입력하세요">
            <button id="submit-name" class="submit-name-button">제출</button>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
    <div class="adsense-container">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9168248935486215"
             crossorigin="anonymous"></script>
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-format="autorelaxed"
             data-ad-client="ca-pub-9168248935486215"
             data-ad-slot="4204023832"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
    <script src="script.js"></script>
</body>
</html>
